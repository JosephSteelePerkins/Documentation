$(document).ready(function(){if(0==$('#side-left, #job-side-column').children().length){$('#side-left, #job-side-column').hide();$("#content").css("box-sizing","border-box");$("#content").css("width","100%");} $(".tab_content").hide();$("ul.tabs li:first").addClass("active").show();$(".tab_content:first").show();$("ul.tabs li").click(function(){$("ul.tabs li").removeClass("active");$(this).addClass("active");$(".tab_content").hide();var activeTab=$(this).find("a").attr("href");$(activeTab).fadeIn();return false;});$(".disabled_tnt_pagination").click(function(e){e.preventDefault();return false;});});var IsDynamicWidgetTemp="''";$(window).load(function(){});$(document).ready(function(){$('.numbersOnly').keyup(function(){this.value=this.value.replace(/[^0-9.]/g,'');});$(".sorting-button > select").change(function(){$(this).parent().children("a").text($(this).children("option:selected").text());});$("#salaryAnnualTab").click(function(){$("#salaryAnnualTab").css("font-weight","bold");$("#salaryHourlyTab").css("font-weight","");$("#liAnnualTab").addClass("active");$("#liHourlyTab").removeClass("active");$("#hiddenSalaryTypeID").val(1);});$("#salaryHourlyTab").click(function(){$("#salaryHourlyTab").css("font-weight","bold");$("#salaryAnnualTab").css("font-weight","");$("#liHourlyTab").addClass("active");$("#liAnnualTab").removeClass("active");$("#hiddenSalaryTypeID").val(2);});$('#locationID').change(function(){var currency=$("#countryID option:selected").data('placeholdertag');if(currency==null||currency==''){currency=$("#locationID option:selected").data('placeholdertag');if(currency==null){currency="";} $(".divSalaryCurrency").html(currency+' ');} var blnLocationSelected=($("#locationID option:selected").val()<1&&($("#countryID").length==0||($("#countryID option:selected").val()<1)));if($('#hfCountryCount').val()!="1"){$('#salaryID').prop('disabled',blnLocationSelected);$('#salarylowerband').prop('disabled',blnLocationSelected);$('#salaryupperband').prop('disabled',blnLocationSelected);}});$("#locationID").change();$('#countryID').change(function(){$("#divLocation").html("<img src='/images/loading.gif' alt='loading' />");var countryID="";var defaultLocationID="-1";$("#countryID option:selected").each(function(){countryID+=$(this).val();});$.ajax({type:"POST",cache:false,url:"/job/ajaxcalls/ajaxmethods.asmx/GetLocations",data:"{'CountryID':"+countryID+", 'DefaultLocationID':"+defaultLocationID+", 'IsDynamicWidget':"+IsDynamicWidgetTemp+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){$("#divLocation").html(msg.d);$('#locationID').change(function(){var currency=$("#countryID option:selected").data('placeholdertag');if(currency==null||currency==''){currency=$("#locationID option:selected").data('placeholdertag');if(currency==null){currency="";}} $(".divSalaryCurrency").html(currency+' ');var blnLocationSelected=($("#locationID option:selected").val()<1&&($("#countryID").length==0||($("#countryID option:selected").val()<1)));if($('#hfCountryCount').val()!="1"){$('#salaryID').prop('disabled',blnLocationSelected);$('#salarylowerband').prop('disabled',blnLocationSelected);$('#salaryupperband').prop('disabled',blnLocationSelected);}});var currency=$("#countryID option:selected").data('placeholdertag');if(currency==null||currency==''){currency=$("#locationID option:selected").data('placeholdertag');if(currency==null){currency="";}} $(".divSalaryCurrency").html(currency+' ');},fail:function(){$("#divLocation").html("It didn't work");}});$.ajax({type:"POST",cache:false,url:"/job/ajaxcalls/ajaxmethods.asmx/GetAreas",data:"{'LocationId':-1, 'IsDynamicWidget':"+IsDynamicWidgetTemp+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){$("#divArea").html(msg.d);},fail:function(){$("#divArea").html("It didn't work");}});$.ajax({type:"POST",cache:false,url:"/job/ajaxcalls/ajaxmethods.asmx/getareasdropdown",data:"{'LocationId':-1, 'IsDynamicWidget':"+IsDynamicWidgetTemp+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){$("#divAreaDropDown").html(msg.d);},fail:function(){$("#divAreaDropDown").html("It didn't work");}});var ccurrency=$("#countryID option:selected").data('placeholdertag');if(ccurrency==null||ccurrency==''){ccurrency=$("#locationID option:selected").data('placeholdertag');if(ccurrency==null){ccurrency="";}} $(".divSalaryCurrency").html(ccurrency+' ');});var blnCountrySelected=($("#countryID").length==0||$("#countryID option:selected").val()<1);if($('#hfCountryCount').val()!="1"){$('#salaryID').prop('disabled',blnCountrySelected);$('#salarylowerband').prop('disabled',blnCountrySelected);$('#salaryupperband').prop('disabled',blnCountrySelected);} if($("#countryID").length){$("#countryID").change();} $('#professionID').change(function(){$("#divRoleID").html("<img src='/images/loading.gif' alt='loading' />");var professionID="";$("#professionID option:selected").each(function(){professionID+=$(this).val();});$.ajax({type:"POST",cache:false,url:"/job/ajaxcalls/ajaxmethods.asmx/getroles",data:"{'ProfessionId':"+professionID+", 'IsDynamicWidget':"+IsDynamicWidgetTemp+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){$("#divRoleID").replaceWith(msg.d);},fail:function(){$("#divRoleID").html("It didn't work");}});});$('#salaryID').change(function(){var salaryTypeId="";$("#salaryID option:selected").each(function(){salaryTypeId+=$(this).val();});$("#salarylowerband").val('');$("#salaryupperband").val('');$("#salarylowerband").focus();});});function SalaryChange(){$('#txtSalaryLowerBand').val('');$('#txtSalaryUpperBand').val('');$('#txtSalaryLowerBand').prop('disabled',($('#ddlSalary').val()==0?true:false));$('#txtSalaryUpperBand').prop('disabled',($('#ddlSalary').val()==0?true:false));} function LoadRoles(professionSelectedValue,rolesID){$.ajax({type:"POST",cache:false,url:"/job/ajaxcalls/ajaxmethods.asmx/getrolesjson",data:"{'ProfessionId':"+professionSelectedValue+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){$('#'+rolesID+' option').remove();$.each(data.d,function(key,value){$('#'+rolesID).append($("<option></option>").val(value.ID).html(value.Value));});},fail:function(){}});} var strValue='?search=1';function JobSearch(url){if(url==null) url='';strValue='?search=1';GetValues("keywords");GetValues("professionID");GetValues("roleIDs");GetValues("countryID");GetValues("locationID");GetValues("areaIDs");GetValues("salaryID");GetValues("salarylowerband");GetValues("salaryupperband");GetValues("workTypeID");GetValues("advertiserid");GetValues("googlemapaddress");GetValues("radius");GetValues("proposedstartdate");GetValues("proposedenddate");if(strValue.indexOf("&",0)<1){var str=url+"/advancedsearch.aspx?search=1";var load=window.open(str,"_top");} else{var str=url+"/advancedsearch.aspx";var finalPage=str+strValue;var load=window.open(finalPage,"_top");}} function GetValues(variableID){var _value=$.trim($('#'+variableID).val());if(_value!=""&&_value!="-1"&&_value!="0"){if(variableID=='salarylowerband'||variableID=='salaryupperband') strValue=strValue+"&"+variableID+"=1;"+encodeURIComponent(_value);else strValue=strValue+"&"+variableID+"="+encodeURIComponent(_value);}} var strValue='?search=1';function SiteSearch(url){if(url==null) url='';strValue='?search=1';GetValues("keywords");GetValues("language");if(strValue.indexOf("&",0)<1){alert('Please select at least one of the fields.');} else{var str=url+"/sitesearch.aspx";var finalPage=str+strValue;var load=window.open(finalPage,"_top");}} var saveJobRequesting=false;function SaveJob(callerObj,varJobID,intJobID){if(!saveJobRequesting){saveJobRequesting=true;var blnOpenUrl=false;var firstPath=location.pathname.toLowerCase().replace('/advancedsearch.aspx','').replace('/jobbrowse.aspx','');var saveJobOrignialObject=callerObj;$(callerObj).replaceWith("<img id='img_"+varJobID+"' src='/images/ajax-loading.gif' />");$.ajax({type:"POST",cache:false,url:firstPath+"/job/ajaxcalls/ajaxmethods.asmx/savejobformember",data:"{'JobID':"+intJobID+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(msg){$("#img_"+varJobID).replaceWith(saveJobOrignialObject);console.log(msg.d.Success);switch(msg.d.Action){case"Login":blnOpenUrl=true;location.href=firstPath+'/member/mysavedjobs.aspx?id='+intJobID;break;case"Deleted":$.each($("."+varJobID),function(i,l){$(this).text(msg.d.Message).removeClass('job-saved');});break;case"Saved":$.each($("."+varJobID),function(i,l){$(this).text(msg.d.Message).addClass('job-saved');});break;default:break;}},fail:function(){location.href=firstPath+'/member/mysavedjobs.aspx?id='+intJobID;blnOpenUrl=true;},complete:function(a,b){saveJobRequesting=false;}});return blnOpenUrl;} return false;} function SaveSelectedJobs(){var firstPath=location.pathname.toLowerCase().replace('/advancedsearch.aspx','').replace('/jobbrowse.aspx','');var ids="";$("input:checkbox[name=chkSaveJob]:checked").each(function(){if(ids=="") ids=($(this).val());else ids=ids+","+($(this).val());});window.location=firstPath+"/member/mysavedjobs.aspx?id="+ids;} $(document).ready(function(){$('#boardy-popup').appendTo('body');$('a[name=boardy-modal]').click(function(e){e.preventDefault();var id=$(this).attr('href');$(id+" .boardy-poptitle").html($(this).attr('data-title'));$(id+" .boardy-popcontent").html($(this).attr('data-content'));var maskHeight=$(document).height();var maskWidth=$(window).width();$('#boardy-popshadow').css({'width':maskWidth,'height':maskHeight});$('#boardy-popshadow').fadeIn(500);$('#boardy-popshadow').fadeTo("fast",0.7);var winH=$(window).height();var winW=$(window).width();$(id).css('left',winW/2-$(id).width()/2);$(id).fadeIn(500);});$('.window .boardy-popclose').click(function(e){e.preventDefault();$('#boardy-popshadow').hide();$('.window').hide();});$('#boardy-popshadow').click(function(){$(this).hide();$('.window').hide();});$(window).resize(function(){var box=$('#boardy-popup .window');var maskHeight=$(document).height();var maskWidth=$(window).width();$('#boardy-popshadow').css({'width':maskWidth,'height':maskHeight});var winH=$(window).height();var winW=$(window).width();box.css('left',winW/2-box.width()/2);});$(document).click(function(e){var target=e.target;if(!$(target).is('.boardy-dropdown-toggle')&&!$(target).parents().is('.boardy-dropdown-toggle')){$('.boardy-dropdown').hide();}});});function BoardyDropDownToggle(target){$(target).next('.boardy-dropdown').toggle();} function initMenu(){$('#side-drop-menu li a').click(function(){$(this).next().slideToggle('normal');});} $(document).ready(function(){initMenu();});function isNumberKey(evt){var charCode=(evt.which)?evt.which:evt.keyCode;if(charCode>=37&&charCode<=40) return true;if(charCode!=46&&charCode>31&&(charCode<48||charCode>57)) return false;return true;} function AssginGoogleMapTextBox(id,isDynamicWidget){var gmAutoComplete;gmAutoComplete=new google.maps.places.Autocomplete((document.getElementById(id)),{types:['geocode']});google.maps.event.addListener(gmAutoComplete,'place_changed',function(){var place=gmAutoComplete.getPlace();if(place.address_components) {console.log(place);} var lat,lng;if(place.geometry==null) {lat="";lng="";} else{lat=place.geometry.location.lat();lng=place.geometry.location.lng();} $("#hfMapAddressLat"+isDynamicWidget).val(lat);$("#hfMapAddressLng"+isDynamicWidget).val(lng);});} function AssginJobAlertGoogleMapTextBox(id){var gmAutoComplete;gmAutoComplete=new google.maps.places.Autocomplete((document.getElementById(id)),{types:['geocode']});google.maps.event.addListener(gmAutoComplete,'place_changed',function(){var place=gmAutoComplete.getPlace();if(place.address_components){console.log(place);}});}